<template>
  <div class="component">
  <div class="background">
    <div>
      <svg viewBox="0 0 671 263" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M76.4541 117.607L1.67652 101.637C0.456044 101.376 -0.0338903 100.682 0.206717 99.5558L1.74059 92.3738C1.9812 91.2472 2.71174 90.8142 3.93222 91.0749L14.6349 93.3607L31.718 13.3726L21.0154 11.0868C19.7949 10.8261 19.3049 10.1325 19.5456 9.00591L21.0794 1.82388C21.32 0.697288 22.0506 0.264319 23.2711 0.524977L98.0487 16.4953C99.2692 16.756 99.7591 17.4496 99.5185 18.5762L94.6762 41.2489C94.4156 42.4694 93.675 42.9493 92.4545 42.6886L84.85 41.0645C83.7235 40.8239 83.2905 40.0934 83.5511 38.8729L86.4986 25.0721L43.9697 15.9892L36.5109 50.9136L72.1394 58.5228C73.3598 58.7834 73.8498 59.4771 73.6092 60.6037L72.0753 67.7857C71.8347 68.9123 71.1041 69.3452 69.8837 69.0846L34.2552 61.4754L26.8866 95.9773L69.2746 105.03L72.2221 91.2294C72.4627 90.1028 73.1932 89.6698 74.4137 89.9305L82.0182 91.5546C83.2387 91.8152 83.7286 92.5089 83.488 93.6355L78.6458 116.308C78.4052 117.435 77.6746 117.868 76.4541 117.607ZM159.173 135.273L146.921 132.657C142.884 131.795 141.287 129.392 142.129 125.449L143.663 118.267L143.381 118.207C134.503 126.225 124.337 129.011 112.883 126.565C106.123 125.121 100.955 122.202 97.3784 117.806C93.8217 113.316 92.685 108.067 93.9682 102.058C95.6124 94.3597 100.148 89.4386 107.576 87.2946C115.117 85.0768 124.756 85.2211 136.491 87.7274L148.32 90.2538L148.681 88.5639C151.188 76.8286 146.338 69.6576 134.134 67.051C128.407 65.828 124.156 65.509 121.38 66.0942C118.625 66.5856 116.614 67.0395 115.347 67.4561C114.174 67.8927 113.265 68.2387 112.622 68.4939C110.973 69.3197 109.92 69.1931 109.464 68.1139L106.573 62.3429C106.076 61.4515 106.331 60.7205 107.336 60.1499C109.373 58.4253 113.09 57.1086 118.487 56.1997C123.884 55.2909 129.962 55.5583 136.722 57.0019C156.437 61.2126 164.29 72.7062 160.279 91.4827L153.302 124.154L161.188 125.838C162.315 126.079 162.758 126.762 162.517 127.889L161.224 133.944C160.983 135.071 160.3 135.514 159.173 135.273ZM146.516 98.7033L135.391 96.3273C129.946 95.1643 125.379 94.4836 121.691 94.2849C118.003 94.0863 114.691 94.6551 111.756 95.9914C108.914 97.3478 107.142 99.6689 106.44 102.955C105.738 106.241 106.471 109.244 108.639 111.965C110.92 114.612 114.22 116.396 118.539 117.319C127.645 119.263 136.159 116.861 144.08 110.11L146.516 98.7033ZM202.357 145.527C196.067 144.184 191.295 141.937 188.041 138.788C184.787 135.639 182.911 132.932 182.413 130.666L182.132 130.606C181.337 135.246 180.909 137.707 180.849 137.989C180.589 139.209 179.801 139.679 178.487 139.398L173.699 138.376C172.478 138.115 171.998 137.374 172.259 136.154L176.77 115.03C177.031 113.81 177.772 113.33 178.992 113.591L184.484 114.764C185.799 115.044 186.325 115.795 186.065 117.015L185.463 119.832C185.801 122.849 187.221 125.852 189.724 128.84C192.69 132.419 196.848 134.779 202.2 135.922C212.715 138.168 218.754 135.629 220.318 128.307C220.859 125.772 219.835 123.442 217.246 121.319C214.676 119.101 211.389 117.025 207.385 115.09C203.475 113.175 199.595 111.119 195.745 108.923C191.894 106.726 188.825 103.862 186.536 100.33C184.267 96.704 183.614 92.6379 184.577 88.1315C185.88 82.0291 189.119 77.6654 194.293 75.0402C199.488 72.3212 205.512 71.6935 212.365 73.1572C221.659 75.1422 227.744 79.2884 230.618 85.5958L230.899 85.6559C231.433 82.236 231.71 80.4792 231.73 80.3853C231.991 79.1648 232.732 78.6849 233.952 78.9455L238.459 79.908C239.679 80.1686 240.159 80.9092 239.898 82.1297L235.718 101.704C235.457 102.925 234.717 103.405 233.496 103.144L228.004 101.971C226.69 101.69 226.163 100.94 226.423 99.7192L226.844 97.7477C227.386 95.2129 226.415 92.4041 223.932 89.3216C221.563 86.1652 218.031 84.0857 213.337 83.0832C208.643 82.0806 204.771 82.2844 201.721 83.6946C198.672 85.1047 196.806 87.4057 196.124 90.5978C195.463 93.6959 196.396 96.4476 198.926 98.853C201.569 101.184 204.893 103.318 208.897 105.253C212.921 107.094 216.915 109.076 220.88 111.199C224.844 113.321 227.98 116.102 230.289 119.54C232.692 122.998 233.362 127.215 232.299 132.191C231.236 137.166 228.135 141.118 222.994 144.045C217.967 146.898 211.088 147.392 202.357 145.527ZM270.013 157.326C268.511 157.005 267.541 155.571 267.104 153.023L257.257 93.6412L249.512 91.987C248.385 91.7464 247.942 91.0628 248.183 89.9362L249.476 83.8807C249.717 82.7542 250.4 82.3112 251.527 82.5518L277.016 87.9955C278.237 88.2562 278.727 88.9498 278.486 90.0764L277.193 96.1318C276.952 97.2584 276.222 97.6914 275.001 97.4307L269.227 96.1976L277.198 147.817L277.479 147.877L304.574 103.747L298.237 102.393C297.11 102.153 296.667 101.469 296.908 100.342L298.201 94.287C298.442 93.1604 299.126 92.7174 300.252 92.958L326.445 98.5522C327.572 98.7928 328.015 99.4764 327.774 100.603L326.481 106.658C326.241 107.785 325.557 108.228 324.43 107.987L316.544 106.303L276.77 169.813C271.888 177.507 267.355 182.87 263.174 185.904C259.066 189.051 254.101 190.003 248.281 188.76C242.554 187.537 238.016 184.654 234.667 180.11C233.929 178.971 233.968 178.096 234.786 177.485L239.269 173.73C240.254 173.254 241.109 173.387 241.834 174.131C243.706 176.396 246.191 177.859 249.289 178.521C252.388 179.183 255.153 178.644 257.586 176.906C260.092 175.282 262.836 172.088 265.816 167.326L271.844 157.717L270.013 157.326ZM465.473 200.69L460.122 199.547C456.648 198.805 454.843 196.457 454.706 192.501L453.649 117.473L453.227 117.383L421.894 185.493C420.153 189.048 417.499 190.444 413.931 189.682L408.721 188.57C405.435 187.868 403.583 185.509 403.164 181.493L395.529 91.0722L386.658 89.1774C385.437 88.9167 384.947 88.2231 385.188 87.0965L386.722 79.9145C386.962 78.7879 387.693 78.3549 388.913 78.6156L420.599 85.3826C421.819 85.6433 422.309 86.3369 422.068 87.4635L420.535 94.6456C420.294 95.7721 419.563 96.2051 418.343 95.9445L408.485 93.8391L414.162 174.123L415.007 174.304L452.988 92.3001L464.254 94.7062L465.563 185.101L466.408 185.282L504.387 114.321L494.388 112.185C493.261 111.945 492.818 111.261 493.059 110.135L494.593 102.953C494.833 101.826 495.517 101.383 496.644 101.624L528.47 108.421C529.597 108.661 530.04 109.345 529.799 110.472L528.265 117.654C528.024 118.78 527.341 119.223 526.214 118.983L517.202 117.058L473.295 196.471C471.366 199.986 468.759 201.392 465.473 200.69ZM571.744 223.387L559.492 220.77C555.455 219.908 553.858 217.505 554.7 213.562L556.234 206.38L555.952 206.32C547.073 214.338 536.907 217.124 525.454 214.678C518.694 213.235 513.526 210.315 509.949 205.919C506.392 201.429 505.256 196.18 506.539 190.171C508.183 182.473 512.719 177.552 520.147 175.408C527.688 173.19 537.327 173.334 549.062 175.841L560.891 178.367L561.252 176.677C563.758 164.942 558.909 157.771 546.704 155.164C540.978 153.941 536.726 153.622 533.951 154.207C531.196 154.699 529.184 155.153 527.917 155.569C526.744 156.006 525.836 156.352 525.193 156.607C523.544 157.433 522.491 157.306 522.034 156.227L519.144 150.456C518.647 149.565 518.901 148.834 519.907 148.263C521.944 146.538 525.661 145.222 531.058 144.313C536.455 143.404 542.533 143.671 549.292 145.115C569.008 149.326 576.86 160.819 572.85 179.596L565.873 212.267L573.759 213.951C574.885 214.192 575.328 214.876 575.088 216.002L573.794 222.058C573.554 223.184 572.87 223.627 571.744 223.387ZM559.087 186.816L547.961 184.44C542.516 183.277 537.95 182.597 534.262 182.398C530.574 182.199 527.262 182.768 524.326 184.105C521.484 185.461 519.712 187.782 519.011 191.068C518.309 194.354 519.042 197.357 521.209 200.078C523.491 202.725 526.791 204.509 531.11 205.432C540.216 207.377 548.73 204.974 556.65 198.223L559.087 186.816ZM612.997 230.577C611.495 230.257 610.525 228.822 610.088 226.275L600.241 166.893L592.496 165.238C591.369 164.998 590.926 164.314 591.167 163.188L592.46 157.132C592.701 156.006 593.384 155.563 594.511 155.803L620 161.247C621.22 161.508 621.71 162.201 621.47 163.328L620.176 169.383C619.936 170.51 619.205 170.943 617.985 170.682L612.211 169.449L620.182 221.068L620.463 221.128L647.558 176.998L641.221 175.645C640.094 175.404 639.651 174.72 639.892 173.594L641.185 167.538C641.426 166.412 642.109 165.969 643.236 166.209L669.429 171.804C670.556 172.044 670.999 172.728 670.758 173.854L669.465 179.91C669.224 181.036 668.541 181.479 667.414 181.239L659.528 179.555L619.754 243.064C614.871 250.758 610.339 256.122 606.157 259.155C602.049 262.303 597.085 263.255 591.264 262.012C585.538 260.788 581 257.905 577.651 253.361C576.913 252.222 576.952 251.347 577.77 250.736L582.253 246.982C583.238 246.505 584.093 246.639 584.818 247.382C586.69 249.647 589.175 251.111 592.273 251.772C595.371 252.434 598.137 251.896 600.569 250.158C603.076 248.533 605.819 245.34 608.8 240.577L614.828 230.968L612.997 230.577Z" fill="#D12662"/>
      </svg>
    </div>
    <h1 id="title">Login</h1>
  <form class="form" >
    <label>
      <input type="text" name="username"  v-model="input.username" placeholder="Username..">
    </label>
  </form>
  <form class="form" >
    <label>
      <input type="password"  v-model="input.password" name="password" placeholder="Password..">
    </label>
  </form>
    <button class="button" v-on:click="login()" > GO!
    </button>
  </div>
  </div>
</template>

<script>
import { reactive } from 'vue';
import REST_interface from "@/REST_interface";

export default {
  setup() {
    const input = reactive({
      username: "",
      password: ""
    });
    return { input };
  },
  methods: {
    async login() {

        let transmit = {
          username: this.input.username,
          password: this.input.password,
          role:"Admin"
        }
        await REST_interface.login(transmit, ).then(resp=>{
            console.log(resp);
            this.$router.push({ name: 'login', query: { redirect: '/path' } });
        }).catch(err=>{
          console.log(err);
        });
    }
  }
};
</script>

<style scoped>
.form{
  margin: 2em;
}

.button{
  background-color: #e5e5e5;
  border: 2px solid #D12662;
  border-radius: 0.1em;
  font-size: 40px;
  padding: 1px 20px 1px 20px;
  transition-duration: 0.4s;
}
.button:hover {
  background-color: #d12662;
}
#title {
  font-size: 40px;
  font-family: Verdana,sans-serif;
  color: white;
}

.background {
  position: absolute;
  overflow: hidden;
  padding: 300px;
  border-radius: 0.5em;
}
.background:before {
  background-image: url(../assets/background.jpg);
  background-repeat: no-repeat;
  background-size: cover;
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  height: 200%;
  width: 200%;
  z-index: -1;
  animation:rot 25s 0ms linear infinite;
}
input[type=text] {
  box-sizing: border-box;
  border: 2px solid #D12662;
  border-radius: 4px;
  font-size: 22px;
  background-color: #ffffff;
  padding: 12px 20px 12px 40px;
}
input[type=password] {
  box-sizing: border-box;
  border: 2px solid #D12662;
  border-radius: 4px;
  font-size: 22px;
  background-color: #ffffff;
  padding: 12px 20px 12px 40px;
}

@keyframes rot {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
</style>
